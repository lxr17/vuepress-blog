<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Android Saripaar 注解详解 | 懒星人的主页</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="欢迎访问我的主页">
    <meta name="google-site-verification" content="CKmN6S4eXG3UM1ZtPTtoNFeB7HoPSineeV6N0redyJM">
    <meta name="baidu-site-verification" content="DHMDHUjY45">
    
    <link rel="preload" href="/assets/css/0.styles.7e8b9b9e.css" as="style"><link rel="preload" href="/assets/js/app.1fed4432.js" as="script"><link rel="preload" href="/assets/js/2.93603589.js" as="script"><link rel="preload" href="/assets/js/110.0fc95c8f.js" as="script"><link rel="prefetch" href="/assets/js/10.772be262.js"><link rel="prefetch" href="/assets/js/100.806f72b5.js"><link rel="prefetch" href="/assets/js/101.0aadee1b.js"><link rel="prefetch" href="/assets/js/102.a84bc745.js"><link rel="prefetch" href="/assets/js/103.f2aca0fc.js"><link rel="prefetch" href="/assets/js/104.73349692.js"><link rel="prefetch" href="/assets/js/105.88e10ca0.js"><link rel="prefetch" href="/assets/js/106.d743a03d.js"><link rel="prefetch" href="/assets/js/107.57e6163a.js"><link rel="prefetch" href="/assets/js/108.4b1edcb6.js"><link rel="prefetch" href="/assets/js/109.3dd5ffc8.js"><link rel="prefetch" href="/assets/js/11.d04a6e80.js"><link rel="prefetch" href="/assets/js/111.1b91a2fd.js"><link rel="prefetch" href="/assets/js/112.ce9bfc90.js"><link rel="prefetch" href="/assets/js/113.fc2a7413.js"><link rel="prefetch" href="/assets/js/114.64bc5853.js"><link rel="prefetch" href="/assets/js/115.fe7321b2.js"><link rel="prefetch" href="/assets/js/116.7bcc420f.js"><link rel="prefetch" href="/assets/js/117.e9a4bc6a.js"><link rel="prefetch" href="/assets/js/118.b1d65f25.js"><link rel="prefetch" href="/assets/js/119.5663ff9e.js"><link rel="prefetch" href="/assets/js/12.7a9567a9.js"><link rel="prefetch" href="/assets/js/13.aa5148e5.js"><link rel="prefetch" href="/assets/js/14.c790e307.js"><link rel="prefetch" href="/assets/js/15.930642a4.js"><link rel="prefetch" href="/assets/js/16.03afcdf0.js"><link rel="prefetch" href="/assets/js/17.7061683b.js"><link rel="prefetch" href="/assets/js/18.58d3cad0.js"><link rel="prefetch" href="/assets/js/19.b83d9b05.js"><link rel="prefetch" href="/assets/js/20.24d3d8a4.js"><link rel="prefetch" href="/assets/js/21.6c438b48.js"><link rel="prefetch" href="/assets/js/22.30cc6803.js"><link rel="prefetch" href="/assets/js/23.65c28f49.js"><link rel="prefetch" href="/assets/js/24.e5e10187.js"><link rel="prefetch" href="/assets/js/25.acfde69f.js"><link rel="prefetch" href="/assets/js/26.b55a4d0e.js"><link rel="prefetch" href="/assets/js/27.b2bfd2d6.js"><link rel="prefetch" href="/assets/js/28.d0b41fff.js"><link rel="prefetch" href="/assets/js/29.574f846a.js"><link rel="prefetch" href="/assets/js/3.486d39d3.js"><link rel="prefetch" href="/assets/js/30.3951cb23.js"><link rel="prefetch" href="/assets/js/31.06c20e62.js"><link rel="prefetch" href="/assets/js/32.4cb2a254.js"><link rel="prefetch" href="/assets/js/33.6602b1ef.js"><link rel="prefetch" href="/assets/js/34.68c1ccb0.js"><link rel="prefetch" href="/assets/js/35.e02dd4b4.js"><link rel="prefetch" href="/assets/js/36.9d5c3863.js"><link rel="prefetch" href="/assets/js/37.32295d6b.js"><link rel="prefetch" href="/assets/js/38.1bee5a83.js"><link rel="prefetch" href="/assets/js/39.37898057.js"><link rel="prefetch" href="/assets/js/4.4933f3c6.js"><link rel="prefetch" href="/assets/js/40.c4986cc7.js"><link rel="prefetch" href="/assets/js/41.7730b27a.js"><link rel="prefetch" href="/assets/js/42.3c2c5d7a.js"><link rel="prefetch" href="/assets/js/43.b764b515.js"><link rel="prefetch" href="/assets/js/44.f522c2b5.js"><link rel="prefetch" href="/assets/js/45.2da994f5.js"><link rel="prefetch" href="/assets/js/46.1aa7b5f2.js"><link rel="prefetch" href="/assets/js/47.08ea6699.js"><link rel="prefetch" href="/assets/js/48.09fd9b49.js"><link rel="prefetch" href="/assets/js/49.8e54ca99.js"><link rel="prefetch" href="/assets/js/5.876c40e3.js"><link rel="prefetch" href="/assets/js/50.b618eb72.js"><link rel="prefetch" href="/assets/js/51.8c7f1d19.js"><link rel="prefetch" href="/assets/js/52.e7f65a2b.js"><link rel="prefetch" href="/assets/js/53.132bfde6.js"><link rel="prefetch" href="/assets/js/54.9b128549.js"><link rel="prefetch" href="/assets/js/55.57701f4d.js"><link rel="prefetch" href="/assets/js/56.07d7bba9.js"><link rel="prefetch" href="/assets/js/57.23ebef82.js"><link rel="prefetch" href="/assets/js/58.93abbd5d.js"><link rel="prefetch" href="/assets/js/59.6d30fdbb.js"><link rel="prefetch" href="/assets/js/6.f50b9bd5.js"><link rel="prefetch" href="/assets/js/60.302f0e17.js"><link rel="prefetch" href="/assets/js/61.bf3418ae.js"><link rel="prefetch" href="/assets/js/62.d536fcae.js"><link rel="prefetch" href="/assets/js/63.5ace181d.js"><link rel="prefetch" href="/assets/js/64.2b3b9348.js"><link rel="prefetch" href="/assets/js/65.558821eb.js"><link rel="prefetch" href="/assets/js/66.f129d0c5.js"><link rel="prefetch" href="/assets/js/67.7f548d9d.js"><link rel="prefetch" href="/assets/js/68.9c8a1907.js"><link rel="prefetch" href="/assets/js/69.b316c917.js"><link rel="prefetch" href="/assets/js/7.824cca2c.js"><link rel="prefetch" href="/assets/js/70.4a6fab53.js"><link rel="prefetch" href="/assets/js/71.f3587272.js"><link rel="prefetch" href="/assets/js/72.a5f8eeaa.js"><link rel="prefetch" href="/assets/js/73.f0a63743.js"><link rel="prefetch" href="/assets/js/74.7a8cfc63.js"><link rel="prefetch" href="/assets/js/75.e05a7d5d.js"><link rel="prefetch" href="/assets/js/76.cf1e57d2.js"><link rel="prefetch" href="/assets/js/77.2e8745d5.js"><link rel="prefetch" href="/assets/js/78.90a3e2c0.js"><link rel="prefetch" href="/assets/js/79.b6ddfd79.js"><link rel="prefetch" href="/assets/js/8.4d5a874a.js"><link rel="prefetch" href="/assets/js/80.ba1b0132.js"><link rel="prefetch" href="/assets/js/81.a0be04e4.js"><link rel="prefetch" href="/assets/js/82.1045a196.js"><link rel="prefetch" href="/assets/js/83.3b89c372.js"><link rel="prefetch" href="/assets/js/84.0bfbee35.js"><link rel="prefetch" href="/assets/js/85.b7c8612e.js"><link rel="prefetch" href="/assets/js/86.69ae9ea0.js"><link rel="prefetch" href="/assets/js/87.2bd0bf7b.js"><link rel="prefetch" href="/assets/js/88.623f9d4a.js"><link rel="prefetch" href="/assets/js/89.4f1c2fdf.js"><link rel="prefetch" href="/assets/js/9.ab681030.js"><link rel="prefetch" href="/assets/js/90.247024c5.js"><link rel="prefetch" href="/assets/js/91.c733a2a7.js"><link rel="prefetch" href="/assets/js/92.c8697e38.js"><link rel="prefetch" href="/assets/js/93.dc15c0d2.js"><link rel="prefetch" href="/assets/js/94.8b45c40d.js"><link rel="prefetch" href="/assets/js/95.032506c4.js"><link rel="prefetch" href="/assets/js/96.190e843f.js"><link rel="prefetch" href="/assets/js/97.62012fed.js"><link rel="prefetch" href="/assets/js/98.4d448bb2.js"><link rel="prefetch" href="/assets/js/99.f54dde7f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7e8b9b9e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">懒星人的主页</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link router-link-active">
  博客
</a></div><div class="nav-item"><a href="/arts/" class="nav-link">
  ARTS总结
</a></div><div class="nav-item"><a href="/thought/" class="nav-link">
  碎碎念
</a></div><div class="nav-item"><a href="/summary/" class="nav-link">
  年终总结
</a></div><div class="nav-item"><a href="/about/about.html" class="nav-link">
  关于
</a></div> <a href="https://github.com/lxr17/vuepress-blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link router-link-active">
  博客
</a></div><div class="nav-item"><a href="/arts/" class="nav-link">
  ARTS总结
</a></div><div class="nav-item"><a href="/thought/" class="nav-link">
  碎碎念
</a></div><div class="nav-item"><a href="/summary/" class="nav-link">
  年终总结
</a></div><div class="nav-item"><a href="/about/about.html" class="nav-link">
  关于
</a></div> <a href="https://github.com/lxr17/vuepress-blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>博客</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>学习笔记</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/notes/basic-knowledge-java.html" class="sidebar-link">基础知识（Java篇）</a></li><li><a href="/blog/notes/study-notes-git.html" class="sidebar-link">Git学习笔记</a></li><li><a href="/blog/notes/android-saripaar-annotation.html" aria-current="page" class="active sidebar-link">Android Saripaar 注解详解</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/notes/android-saripaar-annotation.html#写这篇文章的原因" class="sidebar-link">写这篇文章的原因</a></li><li class="sidebar-sub-header"><a href="/blog/notes/android-saripaar-annotation.html#如何使用" class="sidebar-link">如何使用</a></li><li class="sidebar-sub-header"><a href="/blog/notes/android-saripaar-annotation.html#注解" class="sidebar-link">注解</a></li><li class="sidebar-sub-header"><a href="/blog/notes/android-saripaar-annotation.html#总结" class="sidebar-link">总结</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>仿9GAG制作过程</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Android</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Java</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="android-saripaar-注解详解"><a href="#android-saripaar-注解详解" class="header-anchor">#</a> Android Saripaar 注解详解</h1> <h2 id="写这篇文章的原因"><a href="#写这篇文章的原因" class="header-anchor">#</a> 写这篇文章的原因</h2> <p>在移动端一般很少使用复杂的表单，一般针对于属性的更改都会打开一个新的页面进行更改。虽然不多，但是也会有。如果一个页面要输入的内容包括姓名、地址、邮箱、手机号等，对各个属性的验证会非常麻烦，并且非常的不优雅。</p> <p>于是，<code>saripaar</code>就出现了，一种基于规则的<code>Android UI</code>输入验证库，通过注解即可标注验证规则。</p> <p>使用过程中发现只有四个字：<strong>简单好用</strong>。但是<a href="https://github.com/ragunathjawahar/android-saripaar" target="_blank" rel="noopener noreferrer">官方<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>对注解的使用并没有一份完整的文档，故参考源码整理了现有的所有注解（基于版本<code>2.0.3</code>）。</p> <h2 id="如何使用"><a href="#如何使用" class="header-anchor">#</a> 如何使用</h2> <h3 id="导入依赖"><a href="#导入依赖" class="header-anchor">#</a> 导入依赖</h3> <p>第一步当然是导入依赖啦，可通过<code>implementation 'com.mobsandgeeks:android-saripaar:(latest version)'</code>导入<code>saripaar</code>，将<code>(latest version)</code>替换为最新版本即可。</p> <h3 id="使用注解"><a href="#使用注解" class="header-anchor">#</a> 使用注解</h3> <p>对需要进行验证的<code>可输入View</code>加上注解来标注验证规则，例</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Length</span><span class="token punctuation">(</span>min <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">,</span> max <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> <span class="token class-name">AppCompatEditText</span> et1<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>该注解表示<code>et1</code>中的输入内容长度只能在6到9的闭区间。</p> <h3 id="实例化validator"><a href="#实例化validator" class="header-anchor">#</a> 实例化<code>Validator</code></h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>mValidator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Validator</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
mValidator<span class="token punctuation">.</span><span class="token function">setValidationListener</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><code>Validator</code>负责验证给定容器中的<code>View</code>，通常容器为<code>Activity</code>或<code>Fragment</code>。但也可以用包含<code>View</code>的其他类作为容器。</p> <h3 id="实现validationlistener"><a href="#实现validationlistener" class="header-anchor">#</a> 实现<code>ValidationListener</code></h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MainActivity</span> <span class="token keyword">extends</span> <span class="token class-name">AppCompatActivity</span> <span class="token keyword">implements</span> <span class="token class-name">Validator<span class="token punctuation">.</span>ValidationListener</span> <span class="token punctuation">{</span>

    <span class="token comment">// Code…</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onValidationSucceeded</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Toast</span><span class="token punctuation">.</span><span class="token function">makeText</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">&quot;成功了！&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Toast</span><span class="token punctuation">.</span><span class="token constant">LENGTH_LONG</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onValidationFailed</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ValidationError</span><span class="token punctuation">&gt;</span></span> errors<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Toast</span><span class="token punctuation">.</span><span class="token function">makeText</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">&quot;失败了！&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Toast</span><span class="token punctuation">.</span><span class="token constant">LENGTH_LONG</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p><code>ValidationListener</code>用户监听回调结果，并进行相应的处理。</p> <h3 id="调用验证方法"><a href="#调用验证方法" class="header-anchor">#</a> 调用验证方法</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code>btn<span class="token punctuation">.</span><span class="token function">setOnClickListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">View<span class="token punctuation">.</span>OnClickListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onClick</span><span class="token punctuation">(</span><span class="token class-name">View</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        mValidator<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>其余的高级用法在此不做介绍，该文章主要介绍各个注解的使用。</p> <h2 id="注解"><a href="#注解" class="header-anchor">#</a> 注解</h2> <h3 id="assertfalse"><a href="#assertfalse" class="header-anchor">#</a> <code>@AssertFalse</code></h3> <h4 id="描述"><a href="#描述" class="header-anchor">#</a> 描述</h4> <p>用于判断输入内容是否为<code>false</code>。</p> <h4 id="作用范围"><a href="#作用范围" class="header-anchor">#</a> 作用范围</h4> <ul><li><code>CheckBox</code></li> <li><code>RadioButton</code></li> <li><code>RadioGroup</code></li></ul> <h4 id="参数"><a href="#参数" class="header-anchor">#</a> 参数</h4> <ul><li><code>sequence</code>：确定规则的判定顺序，当单个<code>View</code>有多个规则时生效</li> <li><code>messageResId</code>：错误提示文字的资源文件ID</li> <li><code>message</code>：错误提示文字<br> <strong>注：所有注解均有这三个参数，故之后注解省略不写</strong></li></ul> <hr> <h3 id="asserttrue"><a href="#asserttrue" class="header-anchor">#</a> <code>@AssertTrue</code></h3> <h4 id="描述-2"><a href="#描述-2" class="header-anchor">#</a> 描述</h4> <p>用于判断输入内容是否为<code>true</code>。</p> <h4 id="作用范围-2"><a href="#作用范围-2" class="header-anchor">#</a> 作用范围</h4> <ul><li><code>CheckBox</code></li> <li><code>RadioButton</code></li> <li><code>RadioGroup</code></li></ul> <hr> <h3 id="checked"><a href="#checked" class="header-anchor">#</a> <code>@Checked</code></h3> <h4 id="描述-3"><a href="#描述-3" class="header-anchor">#</a> 描述</h4> <p>用于判断输入内容是否为预设值，默认预设值为<code>true</code>。</p> <h4 id="作用范围-3"><a href="#作用范围-3" class="header-anchor">#</a> 作用范围</h4> <ul><li><code>CheckBox</code></li> <li><code>RadioButton</code></li> <li><code>RadioGroup</code></li></ul> <h4 id="参数-2"><a href="#参数-2" class="header-anchor">#</a> 参数</h4> <ul><li><code>value</code>：用于设置预设值，默认为<code>true</code></li></ul> <hr> <h3 id="confirmemail"><a href="#confirmemail" class="header-anchor">#</a> <code>@ConfirmEmail</code></h3> <h4 id="描述-4"><a href="#描述-4" class="header-anchor">#</a> 描述</h4> <p>判断当前输入内容与被<code>@Email</code>注解的<code>View</code>的内容是否一致。
<strong>注：当前容器所持有的被<code>@Email</code>注解的<code>View</code>必须且只允许有一个。</strong></p> <h4 id="作用范围-4"><a href="#作用范围-4" class="header-anchor">#</a> 作用范围</h4> <ul><li><code>TextView</code></li></ul> <hr> <h3 id="confirmpassword"><a href="#confirmpassword" class="header-anchor">#</a> <code>@ConfirmPassword</code></h3> <h4 id="描述-5"><a href="#描述-5" class="header-anchor">#</a> 描述</h4> <p>判断当前输入内容与被<code>@Password</code>注解的<code>View</code>的内容是否一致。
<strong>注：当前容器所持有的被<code>@Password</code>注解的<code>View</code>必须且只允许有一个。</strong></p> <h4 id="作用范围-5"><a href="#作用范围-5" class="header-anchor">#</a> 作用范围</h4> <ul><li><code>TextView</code></li></ul> <hr> <h3 id="creditcard"><a href="#creditcard" class="header-anchor">#</a> <code>@CreditCard</code></h3> <h4 id="描述-6"><a href="#描述-6" class="header-anchor">#</a> 描述</h4> <p>判断输入内容是否符合信用卡卡号规则。</p> <h4 id="作用范围-6"><a href="#作用范围-6" class="header-anchor">#</a> 作用范围</h4> <ul><li><code>TextView</code></li></ul> <h4 id="参数-3"><a href="#参数-3" class="header-anchor">#</a> 参数</h4> <ul><li><code>cardTypes</code>：是一个数组，用于确定信用卡的类型，每种类型对应着不同的正则表达式
<ul><li><code>Type.AMEX</code>，美国运通卡，对应着<code>^(3[47]\d{13})$</code></li> <li><code>Type.DINERS</code>，大莱信用卡，对应着<code>^(30[0-5]\d{11}|3095\d{10}|36\d{12}|3[8-9]\d{12})$</code></li> <li><code>Type.DISCOVER</code>，发现卡，对应着<code>^(6011\d{12})$</code>、<code>^(64[4-9]\d{13})$</code>和<code>^(65\d{14})$</code></li> <li><code>Type.MASTERCARD</code>，万事达卡，对应着<code>^(5[1-5]\d{14})$</code></li> <li><code>Type.VISA</code>，签证卡，对应着<code>^(4)(\d{12}|\d{15})$</code></li> <li><code>Type.NONE</code>，不允许任何内置的信用卡，适用于自定义信用卡类型</li></ul></li></ul> <hr> <h3 id="decimalmax"><a href="#decimalmax" class="header-anchor">#</a> <code>@DecimalMax</code></h3> <h4 id="描述-7"><a href="#描述-7" class="header-anchor">#</a> 描述</h4> <p>限制输入内容的最大值，输入内容会被强转为<code>Double</code>类型，若输入文字不符合<code>Double</code>类型，会报<code>ConversionException</code>异常。</p> <h4 id="作用范围-7"><a href="#作用范围-7" class="header-anchor">#</a> 作用范围</h4> <ul><li><code>TextView</code></li></ul> <h4 id="参数-4"><a href="#参数-4" class="header-anchor">#</a> 参数</h4> <ul><li><code>value</code>：<code>double</code>类型，最大值。</li></ul> <hr> <h3 id="decimalmin"><a href="#decimalmin" class="header-anchor">#</a> <code>@DecimalMin</code></h3> <h4 id="描述-8"><a href="#描述-8" class="header-anchor">#</a> 描述</h4> <p>限制输入内容的最小值，输入内容会被强转为<code>Double</code>类型，若输入文字不符合<code>Double</code>类型，会报<code>ConversionException</code>异常。</p> <h4 id="作用范围-8"><a href="#作用范围-8" class="header-anchor">#</a> 作用范围</h4> <ul><li><code>TextView</code></li></ul> <h4 id="参数-5"><a href="#参数-5" class="header-anchor">#</a> 参数</h4> <ul><li><code>value</code>：<code>double</code>类型，最小值。</li></ul> <hr> <h3 id="digits"><a href="#digits" class="header-anchor">#</a> <code>@Digits</code></h3> <h4 id="描述-9"><a href="#描述-9" class="header-anchor">#</a> 描述</h4> <p>判断输入内容是否为数字，可定义整数部分以及小数部分的最大位数。</p> <h4 id="作用范围-9"><a href="#作用范围-9" class="header-anchor">#</a> 作用范围</h4> <ul><li><code>TextView</code></li></ul> <h4 id="参数-6"><a href="#参数-6" class="header-anchor">#</a> 参数</h4> <ul><li><code>integer</code>：整数部分最大位数</li> <li><code>fraction</code>：小数部分最大位数<br> <strong>注：输入内容需满足正则<br> <code>String.format(&quot;(\\d{0,%d})(\\.\\d{1,%d})?&quot;, integer, fraction);</code></strong></li></ul> <hr> <h3 id="domain"><a href="#domain" class="header-anchor">#</a> <code>@Domain</code></h3> <h4 id="描述-10"><a href="#描述-10" class="header-anchor">#</a> 描述</h4> <p>判断输入内容是否是一个有效的域名。</p> <h4 id="作用范围-10"><a href="#作用范围-10" class="header-anchor">#</a> 作用范围</h4> <ul><li><code>TextView</code></li></ul> <h4 id="参数-7"><a href="#参数-7" class="header-anchor">#</a> 参数</h4> <ul><li><code>allowLocal</code>：本地地址是否有效，默认为<code>false</code></li></ul> <hr> <h3 id="email"><a href="#email" class="header-anchor">#</a> <code>@Email</code></h3> <h4 id="描述-11"><a href="#描述-11" class="header-anchor">#</a> 描述</h4> <p>判断输入内容是否是一个有效的邮箱地址。</p> <h4 id="作用范围-11"><a href="#作用范围-11" class="header-anchor">#</a> 作用范围</h4> <ul><li><code>TextView</code></li></ul> <h4 id="参数-8"><a href="#参数-8" class="header-anchor">#</a> 参数</h4> <ul><li><code>allowLocal</code>：本地地址是否有效，默认为<code>false</code></li></ul> <hr> <h3 id="future"><a href="#future" class="header-anchor">#</a> <code>@Future</code></h3> <h4 id="描述-12"><a href="#描述-12" class="header-anchor">#</a> 描述</h4> <p>判断输入的时间是否是未来时间（与当前时间相比）。输入的时间必须满足相应的格式。</p> <h4 id="作用范围-12"><a href="#作用范围-12" class="header-anchor">#</a> 作用范围</h4> <ul><li><code>TextView</code></li></ul> <h4 id="参数-9"><a href="#参数-9" class="header-anchor">#</a> 参数</h4> <ul><li><code>dateFormat</code>：时间的格式，默认为<code>dd-MM-yyyy</code>，以下为<code>saripaar</code>提供的格式（可自定义）
<ul><li><code>DateFormats.DMY</code>：<code>dd-MM-yyyy</code></li> <li><code>DateFormats.YMD</code>：<code>yyyy-MM-dd</code></li> <li><code>DateFormats.MDY</code>：<code>MM-dd-yyyy</code></li> <li><code>DateFormats.DMY_TIME_12_HOURS</code>：<code>dd-MM-yyyy hh:mm aa</code></li> <li><code>DateFormats.YMD_TIME_12_HOURS</code>：<code>yyyy-MM-dd hh:mm aa</code></li> <li><code>DateFormats.MDY_TIME_12_HOURS</code>：<code>MM-dd-yyyy hh:mm aa</code></li> <li><code>DateFormats.DMY_TIME_24_HOURS</code>：<code>dd-MM-yyyy kk:mm</code></li> <li><code>DateFormats.YMD_TIME_24_HOURS</code>：<code>yyyy-MM-dd kk:mm</code></li> <li><code>DateFormats.MDY_TIME_24_HOURS</code>：<code>MM-dd-yyyy kk:mm</code></li></ul></li> <li><code>dateFormatResId</code>：时间格式的资源ID</li></ul> <hr> <h3 id="ipaddress"><a href="#ipaddress" class="header-anchor">#</a> <code>@IpAddress</code></h3> <h4 id="描述-13"><a href="#描述-13" class="header-anchor">#</a> 描述</h4> <p>判断输入的内容是否是一个<code>IP</code>，<code>IPv4</code>或<code>IPv6</code></p> <h4 id="作用范围-13"><a href="#作用范围-13" class="header-anchor">#</a> 作用范围</h4> <ul><li><code>TextView</code></li></ul> <hr> <h3 id="isbn"><a href="#isbn" class="header-anchor">#</a> <code>@Isbn</code></h3> <h4 id="描述-14"><a href="#描述-14" class="header-anchor">#</a> 描述</h4> <p>判断输入的内容是否是一个<code>Isbn</code>，即<a href="https://zh.wikipedia.org/wiki/%E5%9B%BD%E9%99%85%E6%A0%87%E5%87%86%E4%B9%A6%E5%8F%B7" target="_blank" rel="noopener noreferrer">国际标准书号<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <h4 id="作用范围-14"><a href="#作用范围-14" class="header-anchor">#</a> 作用范围</h4> <ul><li><code>TextView</code></li></ul> <hr> <h3 id="length"><a href="#length" class="header-anchor">#</a> <code>@Length</code></h3> <h4 id="描述-15"><a href="#描述-15" class="header-anchor">#</a> 描述</h4> <p>限制输入内容的文本长度，可自定义最大长度和最小长度。</p> <h4 id="作用范围-15"><a href="#作用范围-15" class="header-anchor">#</a> 作用范围</h4> <ul><li><code>TextView</code></li></ul> <h4 id="参数-10"><a href="#参数-10" class="header-anchor">#</a> 参数</h4> <ul><li><code>min</code>：文本的最小长度，默认为<code>Integer.MIN_VALUE</code></li> <li><code>max</code>：文本的最大长度，默认为<code>Integer.MAX_VALUE</code></li> <li><code>trim</code>：是否需要先做<code>trim</code>操作，默认为<code>false</code></li></ul> <hr> <h3 id="max"><a href="#max" class="header-anchor">#</a> <code>@Max</code></h3> <h4 id="描述-16"><a href="#描述-16" class="header-anchor">#</a> 描述</h4> <p>限制输入内容的最大值，输入内容会被强转为<code>Integer</code>类型，若输入文字不符合<code>Integer</code>类型，会报<code>ConversionException</code>异常。</p> <h4 id="作用范围-16"><a href="#作用范围-16" class="header-anchor">#</a> 作用范围</h4> <ul><li><code>TextView</code></li></ul> <h4 id="参数-11"><a href="#参数-11" class="header-anchor">#</a> 参数</h4> <ul><li><code>value</code>：<code>int</code>类型，最大值。</li></ul> <hr> <h3 id="min"><a href="#min" class="header-anchor">#</a> <code>@Min</code></h3> <h4 id="描述-17"><a href="#描述-17" class="header-anchor">#</a> 描述</h4> <p>限制输入内容的最小值，输入内容会被强转为<code>Integer</code>类型，若输入文字不符合<code>Integer</code>类型，会报<code>ConversionException</code>异常。</p> <h4 id="作用范围-17"><a href="#作用范围-17" class="header-anchor">#</a> 作用范围</h4> <ul><li><code>TextView</code></li></ul> <h4 id="参数-12"><a href="#参数-12" class="header-anchor">#</a> 参数</h4> <ul><li><code>value</code>：<code>int</code>类型，最小值。</li></ul> <hr> <h3 id="notempty"><a href="#notempty" class="header-anchor">#</a> <code>@NotEmpty</code></h3> <h4 id="描述-18"><a href="#描述-18" class="header-anchor">#</a> 描述</h4> <p>判断输入内容是否非空。</p> <h4 id="作用范围-18"><a href="#作用范围-18" class="header-anchor">#</a> 作用范围</h4> <ul><li><code>TextView</code></li></ul> <h4 id="参数-13"><a href="#参数-13" class="header-anchor">#</a> 参数</h4> <ul><li><code>trim</code>：判断之前是否要先<code>trim</code>，默认为<code>false</code></li> <li><code>emptyText</code>：设置“空字符串”，可自定义一段文本，当输入此文本是则为空</li> <li><code>emptyTextResId</code>：设置“空字符串”的资源文件</li></ul> <hr> <h3 id="order"><a href="#order" class="header-anchor">#</a> <code>@Order</code></h3> <h4 id="描述-19"><a href="#描述-19" class="header-anchor">#</a> 描述</h4> <p>确定校验字段的顺序。当一个容器有多个<code>View</code>需要检验时，可通过该注解确定校验顺序。</p> <h4 id="作用范围-19"><a href="#作用范围-19" class="header-anchor">#</a> 作用范围</h4> <ul><li><code>TextView</code></li> <li><code>CheckBox</code></li> <li><code>RadioButton</code></li> <li><code>RadioGroup</code></li> <li><code>Spinner</code></li></ul> <h4 id="参数-14"><a href="#参数-14" class="header-anchor">#</a> 参数</h4> <ul><li><code>value</code>：<code>int</code>类型，用于确定顺序</li></ul> <hr> <h3 id="password"><a href="#password" class="header-anchor">#</a> <code>@Password</code></h3> <h4 id="描述-20"><a href="#描述-20" class="header-anchor">#</a> 描述</h4> <p>用于校验文本是否符合密码的规则。</p> <h4 id="作用范围-20"><a href="#作用范围-20" class="header-anchor">#</a> 作用范围</h4> <ul><li><code>TextView</code></li></ul> <h4 id="参数-15"><a href="#参数-15" class="header-anchor">#</a> 参数</h4> <ul><li><code>min</code>：最小字符数，默认为6</li> <li><code>scheme</code>：<code>Scheme</code>类型，利用正则确定密码的输入格式，只能为<code>Scheme</code>类型，不可自定义，默认为<code>Password.Scheme.ANY</code> <ul><li><code>Password.Scheme.ANY</code>：<code>.+</code></li> <li><code>Password.Scheme.ALPHA</code>：<code>\w+</code></li> <li><code>Password.Scheme.ALPHA_MIXED_CASE</code>：<code>(?=.*[a-z])(?=.*[A-Z]).+</code></li> <li><code>Password.Scheme.NUMERIC</code>：<code>\d+</code></li> <li><code>Password.Scheme.ALPHA_NUMERIC</code>：<code>(?=.*[a-zA-Z])(?=.*[\d]).+</code></li> <li><code>Password.Scheme.ALPHA_NUMERIC_MIXED_CASE</code>：<code>(?=.*[a-z])(?=.*[A-Z])(?=.*[\d]).+</code></li> <li><code>Password.Scheme.ALPHA_NUMERIC_SYMBOLS</code>：<code>(?=.*[a-zA-Z])(?=.*[\d])(?=.*([^\w])).+</code></li> <li><code>Password.Scheme.ALPHA_NUMERIC_MIXED_CASE_SYMBOLS</code>：<code>(?=.*[a-z])(?=.*[A-Z])(?=.*[\d])(?=.*([^\w])).+</code></li></ul></li></ul> <hr> <h3 id="past"><a href="#past" class="header-anchor">#</a> <code>@Past</code></h3> <h4 id="描述-21"><a href="#描述-21" class="header-anchor">#</a> 描述</h4> <p>判断输入的时间是否是过去时间（与当前时间相比）。输入的时间必须满足相应的格式。</p> <h4 id="作用范围-21"><a href="#作用范围-21" class="header-anchor">#</a> 作用范围</h4> <ul><li><code>TextView</code></li></ul> <h4 id="参数-16"><a href="#参数-16" class="header-anchor">#</a> 参数</h4> <ul><li><code>dateFormat</code>：时间的格式，默认为<code>dd-MM-yyyy</code>，以下为<code>saripaar</code>提供的格式（可自定义）
<ul><li><code>DateFormats.DMY</code>：<code>dd-MM-yyyy</code></li> <li><code>DateFormats.YMD</code>：<code>yyyy-MM-dd</code></li> <li><code>DateFormats.MDY</code>：<code>MM-dd-yyyy</code></li> <li><code>DateFormats.DMY_TIME_12_HOURS</code>：<code>dd-MM-yyyy hh:mm aa</code></li> <li><code>DateFormats.YMD_TIME_12_HOURS</code>：<code>yyyy-MM-dd hh:mm aa</code></li> <li><code>DateFormats.MDY_TIME_12_HOURS</code>：<code>MM-dd-yyyy hh:mm aa</code></li> <li><code>DateFormats.DMY_TIME_24_HOURS</code>：<code>dd-MM-yyyy kk:mm</code></li> <li><code>DateFormats.YMD_TIME_24_HOURS</code>：<code>yyyy-MM-dd kk:mm</code></li> <li><code>DateFormats.MDY_TIME_24_HOURS</code>：<code>MM-dd-yyyy kk:mm</code></li></ul></li> <li><code>dateFormatResId</code>：时间格式的资源ID</li></ul> <hr> <h3 id="pattern"><a href="#pattern" class="header-anchor">#</a> <code>@Pattern</code></h3> <h4 id="描述-22"><a href="#描述-22" class="header-anchor">#</a> 描述</h4> <p>判断输入的内容是否满足正则表达式。</p> <h4 id="作用范围-22"><a href="#作用范围-22" class="header-anchor">#</a> 作用范围</h4> <ul><li><code>TextView</code></li></ul> <h4 id="参数-17"><a href="#参数-17" class="header-anchor">#</a> 参数</h4> <ul><li><code>regex</code>：正则表达式</li> <li><code>caseSensitive</code>：是否区分大小写</li></ul> <hr> <h3 id="select"><a href="#select" class="header-anchor">#</a> <code>@Select</code></h3> <h4 id="描述-23"><a href="#描述-23" class="header-anchor">#</a> 描述</h4> <p>判断选择的索引是否等于默认值，如果不等于则通过，默认值为0。</p> <h4 id="作用范围-23"><a href="#作用范围-23" class="header-anchor">#</a> 作用范围</h4> <ul><li><code>Spinner</code></li></ul> <h4 id="参数-18"><a href="#参数-18" class="header-anchor">#</a> 参数</h4> <ul><li><code>defaultSelection</code>：设置默认值</li></ul> <hr> <h3 id="url"><a href="#url" class="header-anchor">#</a> <code>@Url</code></h3> <h4 id="描述-24"><a href="#描述-24" class="header-anchor">#</a> 描述</h4> <p>判断输入的内容是否是一个<code>url</code>。</p> <h4 id="作用范围-24"><a href="#作用范围-24" class="header-anchor">#</a> 作用范围</h4> <ul><li><code>TextView</code></li></ul> <h4 id="参数-19"><a href="#参数-19" class="header-anchor">#</a> 参数</h4> <ul><li><code>schemes</code>：是一个数组，<code>url</code>的协议数组，可自定义，默认为<code>{&quot;http&quot;, &quot;https&quot;, &quot;ftp&quot;}</code></li> <li><code>allowFragments</code>：<code>url</code>片段是否允许通过，默认为<code>true</code></li></ul> <hr> <h3 id="对于-optional和-or"><a href="#对于-optional和-or" class="header-anchor">#</a> 对于<code>@Optional</code>和<code>@Or</code></h3> <p>虽然该版本已经有了这两个注解，但是并不能使用，参考作者在<code>stackoverflow</code>上的<a href="https://stackoverflow.com/questions/33403080/android-saripaar-v2-or-annotation" target="_blank" rel="noopener noreferrer">回复<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，注解将会在<code>2.1.0</code>版本上线
<img src="https://he_jhua.gitee.io/image-hosting/2019/12/02/1-1.png" alt=""></p> <h2 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h2> <p>本篇文章简单介绍了<code>Android Saripaar</code>的用法，并着重列举了各个注解的作用以及各个参数的意思，方便以后的查询。</p> <p>通过阅读源码对<code>saripaar</code>有了更深的认识，并对基于注解的框架有了一个完备的认知。</p> <p>以后如果有时间的话总结一下<code>Android Saripaar</code>实现的细节。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">更新时间:</span> <span class="time">10/20/2022, 7:04:01 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/notes/study-notes-git.html" class="prev">
        Git学习笔记
      </a></span> <span class="next"><a href="/blog/9gag/9gag1.html">
        仿9GAG制作过程（一）
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.1fed4432.js" defer></script><script src="/assets/js/2.93603589.js" defer></script><script src="/assets/js/110.0fc95c8f.js" defer></script>
  </body>
</html>
